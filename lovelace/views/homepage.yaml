####################################################
#                                                  #
#                  HOMEPAGE                        #
#                                                  #
####################################################
  title: Homepage
  panel: true
  path: homepage
  icon: mdi:home-assistant
  cards:
    - type: custom:layout-card
      layout: vertical
      cards:
        - type: glance
          style: |
            ha-card {
              background: rgba(0,0,0,0.);
              border-radius: 15px;
            }
          title: Dispositivi connessi
          show_state: true
          entities:
            - entity: switch.computer_lan_wol
              icon: mdi:ethernet
              name: PC LAN
              tap_action:
                action: call-service
                service: script.turn_off_pc_script
            - entity: switch.computer_wifi_wol
              icon: mdi:wifi
              name: PC WIFI
              tap_action:
                action: call-service
                service: script.turn_off_pc_script
            - entity: switch.retropie_template
              icon: mdi:gamepad-variant-outline
              name: RetroPie
              tap_action:
                tap_action:
                action: toggle
            - entity: switch.pi_zero_wol
              icon: mdi:raspberry-pi
              name: PI Zero
              tap_action:
                tap_action:
                action: toggle
            - entity: switch.server_template
              icon: mdi:server
              show_state: true
              name: Server
              tap_action:
                action: toggle
        - type: glance
          style: |
            ha-card {
              background: rgba(0,0,0,0.);
              border-radius: 15px;
            }
          title: Home Assistant
          show_state: false
          entities:
            - entity: script.reboot_home_assistant_script
              name: Reboot HA
              icon: mdi:restart
              tap_action:
                action: toggle
            - entity: script.poweroff_home_assistant_script
              name: Stop HA
              icon: mdi:power
              tap_action:
                action: toggle
            - entity: script.reboot_pc_in_windows_script
              name: Ubuntu->Win
              icon: mdi:restart
              tap_action:
                action: toggle
            - entity: script.reboot_server_script
              name: Reboot Server
              icon: mdi:restart
              tap_action:
                action: toggle
        - type: entities
          style: |
            ha-card {
              background: rgba(0,0,0,0.);
              border-radius: 15px;
            }
          entities:
            - entity: sensor.dark_sky_temperature
            - entity: sensor.dark_sky_humidity
            - entity: sensor.temperature_and_humidity_sensor_dc21_temperature
            - entity: sensor.temperature_and_humidity_sensor_dc21_humidity
            - entity: sensor.temperature_and_humidity_sensor_6d4d_temperature
            - entity: sensor.temperature_and_humidity_sensor_6d4d_humidity
            - entity: sensor.temperatura_mansarda
              icon: mdi:home-thermometer
            - entity: sensor.temperatura_primo_piano
              icon: mdi:home-thermometer
        - break
        - type: entities
          style: |
            ha-card {
              background: rgba(0,0,0,0.);
              border-radius: 15px;
            }
          title: Prese & luci
          show_header_toggle: false
          entities:
            - type: custom:fold-entity-row
              open: false
              head:
                type: section
                label: Prese wifi
              entities:
                - entity: switch.outlet_b44d
                  name: Presa Server
                - entity: switch.seconda_presa
            - type: custom:fold-entity-row
              open: false
              head:
                type: section
                label: Luci
              entities:
                - group.luci_camera_group
                - light.shelly_shsw_1_xxxxx  #luce camera
                - light.shelly_shsw_1_xxxxx  #luce scale
                - light.shelly_shsw_1_xxxxx  #luce bagno
                - light.comodino
                - light.divano
            - type: custom:fold-entity-row
              open: false
              head:
                type: section
                label: Server
              entities:
                - entity: automation.spegnimento_programmato
                  icon: mdi:alarm
                - entity: script.reboot_server_script
                  icon: mdi:restart-alert
                - entity: script.server_mount_script
                  icon: mdi:harddisk-plus
                - entity: script.server_umount_script
                  icon: mdi:harddisk-remove
                - entity: script.check_smb_status_script
                  icon: mdi:folder-account
            - type: custom:fold-entity-row
              open: false
              head:
                type: section
                label: FTP
              entities:
                - entity: script.reboot_ftp_server_script
                  icon: mdi:restart-alert
                - entity: script.start_ftp_server_script
                  icon: mdi:ray-start-arrow
                - entity: script.stop_ftp_server_script
                  icon: mdi:stop
                - entity: script.check_ftp_status_script
                  icon: mdi:web
        - type: custom:mini-media-player
          style: |
            ha-card {
              background: rgba(0,0,0,0.);
              border-radius: 15px;
            }
          entity: media_player.fire_tv_stick_2
          hide:
            source: true
            icon: true
            prev: true
            next: true
        - type: custom:mini-media-player
          style: |
            ha-card {
              background: rgba(0,0,0,0.);
              border-radius: 15px;
            }
          entity: media_player.echo_dot_di_umberto
          icon: mdi:amazon-alexa
          artwork: cover
          hide:
            volume: true
            source: true
            power_state: false
        - break
        - type: custom:layout-card
          layout: vertical
          title: "Telecomando Samsung"
          style: |
            ha-card {
              background: rgba(0,0,0,0.);
              border-radius: 15px;
            }
          cards:
            - type: custom:layout-card
              layout: vertical
              cards:
                - type: "custom:button-card"
                  color_type: label-card
                  color: var(--paper-item-icon-active-color)
                  name: Telecomando mansarda
                  styles:
                    card:
                      - height: 50px
                - type: horizontal-stack
                  cards:
                    - type: "custom:button-card"
                      entity: switch.tv_samsung_mansarda_power
                      icon: mdi:power
                      label: 'On / Off'
                      show_label: true
                      show_state: false
                      show_name: false
                      state:
                        - value: 'on'
                          color: var(--primary-color);
                        - value: 'off'
                          color: var(--primary-color);
                    - type: "custom:button-card"
                      entity: switch.tv_samsung_mansarda_hdmi_toggle
                      color_type: card
                      color: red
                      icon: mdi:import
                      label: 'Source'
                      show_label: true
                      show_state: false
                      show_name: false
                      state:
                        - value: 'on'
                          color: var(--primary-color);
                        - value: 'off'
                          color: var(--primary-color);
                    - type: "custom:button-card"
                      entity: switch.tv_samsung_mansarda_antenna
                      icon: mdi:television-box
                      label: 'TV'
                      show_label: true
                      show_state: false
                      show_name: false
                      state:
                        - value: 'on'
                          color: var(--primary-color);
                        - value: 'off'
                          color: var(--primary-color);
                    - type: "custom:button-card"
                      entity: switch.tv_samsung_mansarda_hdmi1
                      icon: mdi:video-input-hdmi
                      label: 'HDMI 1'
                      show_label: true
                      show_state: false
                      show_name: false
                      custom_fields:
                        hdmi_number: >
                          [[[
                            return `<ha-icon
                              icon="mdi:numeric-1-box"
                              style="width: 75%; height: 75%;">
                              </ha-icon>`
                          ]]]
                      state:
                        - value: 'on'
                          color: var(--primary-color);
                        - value: 'off'
                          color: var(--primary-color);
                      styles:
                        custom_fields:
                          hdmi_number:
                            - show_label: false
                            - show_name: false
                            - border-radius: 50%
                            - position: absolute
                            - left: 60%
                            - top: 5%
                    - type: "custom:button-card"
                      entity: switch.tv_samsung_mansarda_hdmi2
                      icon: mdi:video-input-hdmi
                      label: 'HDMI 2'
                      show_label: true
                      show_state: false
                      show_name: false
                      custom_fields:
                        hdmi_number: >
                          [[[
                            return `<ha-icon
                              icon="mdi:numeric-2-box"
                              style="width: 75%; height: 75%;">
                              </ha-icon>`
                          ]]]
                      state:
                        - value: 'on'
                          color: var(--primary-color);
                        - value: 'off'
                          color: var(--primary-color);
                      styles:
                        custom_fields:
                          hdmi_number:
                            - show_label: false
                            - show_name: false
                            - border-radius: 50%
                            - position: absolute
                            - left: 60%
                            - top: 5% 
                - type: horizontal-stack
                  cards:
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          entity: switch.server_template
                          icon: mdi:nas
                          label: 'Server'
                          show_label: true
                          show_state: false
                          show_name: false
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_hdmi_toggle
                          icon: mdi:numeric-1-box-outline
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_hdmi_toggle
                          icon: mdi:numeric-4-box-outline
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_hdmi_toggle
                          icon: mdi:numeric-7-box-outline
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_hdmi_toggle
                          icon: mdi:numeric-2-box-outline
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_hdmi_toggle
                          icon: mdi:numeric-4-box-outline
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_hdmi_toggle
                          icon: mdi:numeric-8-box-outline
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_hdmi_toggle
                          icon: mdi:numeric-3-box-outline
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_hdmi_toggle
                          icon: mdi:numeric-6-box-outline
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_hdmi_toggle
                          icon: mdi:numeric-9-box-outline
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          entity: switch.retropie_template
                          icon: mdi:gamepad-variant-outline
                          label: 'Retropie'
                          show_label: true
                          show_state: false
                          show_name: false
                - type: horizontal-stack
                  cards:
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_volume_up
                          icon: mdi:plus-circle
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          icon: mdi:volume-high
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_volume_down
                          icon: mdi:minus-circle
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          color_type: blank-card
                          styles:
                            card:
                              - height: 44px
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_left
                          icon: mdi:arrow-left-bold
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          color_type: blank-card
                          styles:
                            card:
                              - height: 44px
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_up
                          icon: mdi:arrow-up-bold
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_ok
                          icon: mdi:check-bold
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_down
                          icon: mdi:arrow-down-bold
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          color_type: blank-card
                          styles:
                            card:
                              - height: 44px
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_right
                          icon: mdi:arrow-right-bold
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          color_type: blank-card
                          styles:
                            card:
                              - height: 44px
                    - type: custom:layout-card
                      layout: vertical
                      cards:
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_volume_next
                          icon: mdi:plus-circle
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          icon: mdi:alpha-p-circle
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                        - type: "custom:button-card"
                          entity: switch.tv_samsung_mansarda_channel_prev
                          icon: mdi:minus-circle
                          show_label: false
                          show_state: false
                          show_name: false
                          state:
                            - value: 'on'
                              color: var(--primary-color);
                            - value: 'off'
                              color: var(--primary-color);
                - type: "custom:button-card"
                  color_type: label-card
                  color: var(--paper-item-icon-active-color)
                  styles:
                    card:
                      - height: 50px
        - type: thermostat
          style: |
            ha-card {
              background: rgba(0,0,0,0.);
              border-radius: 15px;
            }
          entity: climate.controllo_temperatura_rpi
          name: Controllo Temperatura RPi
        - break
####################################################
#                                                  #
#            END OF CONFIGURATION FILE             #
#                                                  #
####################################################
